# # '–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ'
# import random

# def get_user_guess():
#     """–ó–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏."""
#     while True:
#         try:
#             guess = int(input("–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100: "))
#             if 1 <= guess <= 100:
#                 return guess
#             else:
#                 print("–ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—Ç 1 –¥–æ 100.")
#         except ValueError:
#             print("–û—à–∏–±–∫–∞: –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ.")

# def play_game():
#     """–û—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–≥—Ä—ã '–£–≥–∞–¥–∞–π —á–∏—Å–ª–æ'."""
#     secret_number = random.randint(1, 100)
#     attempts = 0
#     max_attempts = 10

#     print("–Ø –∑–∞–≥–∞–¥–∞–ª —á–∏—Å–ª–æ –æ—Ç 1 –¥–æ 100. –£–≥–∞–¥–∞–π –µ–≥–æ!")

#     while attempts < max_attempts:
#         guess = get_user_guess()
#         attempts += 1

#         if guess < secret_number:
#             print("–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±–æ–ª—å—à–µ.")
#         elif guess > secret_number:
#             print("–ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –º–µ–Ω—å—à–µ.")
#         else:
#             print(f"–ü–æ–∑–¥—Ä–∞–≤–ª—è—é! –í—ã —É–≥–∞–¥–∞–ª–∏ —á–∏—Å–ª–æ {secret_number} –∑–∞ {attempts} –ø–æ–ø—ã—Ç–æ–∫.")
#             break
#     else:
#         print(f"–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –±—ã–ª–æ: {secret_number}")

# def main():
#     """–ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å—ã–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞."""
#     while True:
#         play_game()
#         again = input("–•–æ—Ç–∏—Ç–µ —Å—ã–≥—Ä–∞—Ç—å –µ—â—ë —Ä–∞–∑? (–¥–∞/–Ω–µ—Ç): ").strip().lower()
#         if again != "–¥–∞":
#             print("–°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –î–æ —Å–≤–∏–¥–∞–Ω–∏—è.")
#             break

# if __name__ == "__main__":
#     main()


# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–ª—É—á–∞–π–Ω–æ–π –∏—Å—Ç–æ—Ä–∏–∏ 

import random

def initialize_data():
    """–°–æ–∑–¥–∞—ë—Ç —Å–ø–∏—Å–∫–∏ —Å —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏."""
    heroes = [
        "—Å–º–µ–ª—ã–π —Ä—ã—Ü–∞—Ä—å", "—Ö–∏—Ç—Ä—ã–π –≤–æ—Ä", "–≤–æ–ª—à–µ–±–Ω–∏–∫",
        "–æ—Ç–≤–∞–∂–Ω—ã–π –ø–∏—Ä–∞—Ç", "–¥–µ—Ä–∑–∫–∏–π –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å"
    ]
    places = [
        "–≤ –¥–∞–ª—ë–∫–æ–º –∫–æ—Ä–æ–ª–µ–≤—Å—Ç–≤–µ", "–Ω–∞ –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–π —Ñ–∞–±—Ä–∏–∫–µ",
        "–≤ –≥—É—Å—Ç–æ–º –ª–µ—Å—É", "–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ä–∞—Ö –∫–æ—Å–º–æ—Å–∞", "—É –ø–æ–¥–Ω–æ–∂–∏—è –≥–æ—Ä"
    ]
    events = [
        "–ø–æ–±–µ–¥–∏–ª –¥—Ä–∞–∫–æ–Ω–∞", "–æ–±–Ω–∞—Ä—É–∂–∏–ª —Å–æ–∫—Ä–æ–≤–∏—â–∞",
        "–≤—ã–∏–≥—Ä–∞–ª –±–∏—Ç–≤—É", "—É—Å—Ç—Ä–æ–∏–ª –±–∞–ª", "—Ä–∞—Å–∫—Ä—ã–ª –¥—Ä–µ–≤–Ω—é—é —Ç–∞–π–Ω—É"
    ]
    details = [
        "—Å –≤–æ–ª—à–µ–±–Ω—ã–º –º–µ—á–æ–º", "–Ω–∞ –ª–µ—Ç–∞—é—â–µ–º –∫–æ–≤—Ä–µ",
        "–ø–æ–¥ –∑–≤—É–∫–∏ –≤–æ–ª—à–µ–±–Ω–æ–π –º—É–∑—ã–∫–∏", "—Å —É–¥–∏–≤–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª–æ–π",
        "–≤ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏–∏ –º–∞–≥–∏—á–µ—Å–∫–æ–≥–æ —Å—É—â–µ—Å—Ç–≤–∞"
    ]
    return heroes, places, events, details

def generate_story(heroes, places, events, details):
    """–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–ª—É—á–∞–π–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤."""
    hero = random.choice(heroes)
    place = random.choice(places)
    event = random.choice(events)
    detail = random.choice(details)

    story = f"üìñ –ò—Å—Ç–æ—Ä–∏—è:\n{'-'*40}\n{hero} {place} {event} {detail}.\n{'-'*40}"
    return story

def save_story(story, filename="stories.txt"):
    """–°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ç–æ—Ä–∏—é –≤ —Ç–µ–∫—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª."""
    try:
        with open(filename, 'a', encoding='utf-8') as file:
            file.write(story + "\n\n")
        print("‚úÖ –ò—Å—Ç–æ—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ —Ñ–∞–π–ª.")
    except IOError:
        print("‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –∏—Å—Ç–æ—Ä–∏–∏ –≤ —Ñ–∞–π–ª.")

def ask_play_again():
    """–°–ø—Ä–∞—à–∏–≤–∞–µ—Ç, —Ö–æ—á–µ—Ç –ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –∏—Å—Ç–æ—Ä–∏—é."""
    answer = input("–•–æ—Ç–∏—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–æ–≤—É—é –∏—Å—Ç–æ—Ä–∏—é? (–¥–∞/–Ω–µ—Ç): ").strip().lower()
    return answer == "–¥–∞"

def main():
    print("üé≤ –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ò—Å—Ç–æ—Ä–∏–π!")
    heroes, places, events, details = initialize_data()

    while True:
        story = generate_story(heroes, places, events, details)
        print("\n" + story)

        save = input("–•–æ—Ç–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å —ç—Ç—É –∏—Å—Ç–æ—Ä–∏—é –≤ —Ñ–∞–π–ª? (–¥–∞/–Ω–µ—Ç): ").strip().lower()
        if save == "–¥–∞":
            save_story(story)

        if not ask_play_again():
            print("üëã –°–ø–∞—Å–∏–±–æ –∑–∞ –∏–≥—Ä—É! –î–æ –≤—Å—Ç—Ä–µ—á–∏.")
            break

if __name__ == "__main__":
    main()